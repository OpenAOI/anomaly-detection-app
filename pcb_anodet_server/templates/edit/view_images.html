{% extends 'edit/base_edit.html' %}


{% block head2 %}
<link rel="stylesheet" type=text/css href="../../static/css/image-gallery.css">
{% endblock %}

{% block content %}
<!-- Topic -->
<div class="container-fluid text-center">    
  <div class="row content">
    <div class="col-sm-12 text-left">
      <h4>Total images: 100</h4>
    </div>
  </div>
</div>

<!-- Project images gallery -->
<div class="container-fluid text-center">    
  <div class="row content">
    <div class="col-sm-12 text-left">

      <div class="imgGallery" id="imgGallery">
        <script>
          var ip = ipAdress.concat("get_all_project_images");
          var xhttp = sendHttpRequest(ip);

          var json_response = JSON.parse(xhttp.responseText);
          var images = json_response.images;

          // List projects in html
          for (var i = 0; i < images.length; i++) {
              document.getElementById("imgGallery").innerHTML += 
              '<div class="thumbnail" style="width: 150px;">' +
              '<div class="item">' +
              '<img src="' + images[i].image_b64 + '" alt="' + images[i].name + '" id="myImg">' +
              '<div class="caption">' +
              '<p style="text-align:left;"><a href="#" onclick="displayImage()">View</a></p>' +
              '</div>' +
              '</div>' +
              '</div>';
          }
        </script>

      <!-- The Modal -->
      <div id="modal" class="modal">
        <!-- The Close Button -->
        <span class="close">&times;</span>
        <!-- Modal Content (The Image) -->
        <img class="modal-content" id="img01">
        <!-- Modal Caption (Image Text) -->
        <div id="caption"></div>

      </div>
      
    </div>
  </div>
</div>

<!-- Buttons -->
<div class="container-fluid text-center">
  <div class="row content">
    <div class="col-sm-12">
      <a href="/edit/take_photo" class="btn btn-block btn-primary">Take more photos</a>
      <hr>
      <a href="/edit/train_project" class="btn btn-block btn-success">Go to next step</a>
    </div>
  </div>
</div>

<script>
var modal = document.getElementById("modal");
var img = document.getElementById("myImg");
var modalImg = document.getElementById("img01");

// Display modal if click on View or Button
function displayImage() {
  modal.style.display = "block";
  modalImg.src = img.src;
}
img.onclick = function() {
  modal.style.display = "block";
  modalImg.src = img.src;
}

// Close button
var span = document.getElementsByClassName("close")[0];
span.onclick = function() { 
  modal.style.display = "none";
}
// Or close by click on image
modal.onclick = function() {
  modal.style.display = "none";
}
</script>
{% endblock %}

